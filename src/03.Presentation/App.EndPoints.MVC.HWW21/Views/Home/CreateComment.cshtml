@model CreateCommentViewModel

@{
    ViewData["Title"] = "ثبت دیدگاه جدید";
}

<link rel="stylesheet" href="~/css/comment-form.css" asp-append-version="true" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" />

<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">

            <div class="card shadow-lg border-0 rounded-4 overflow-hidden comment-form-card">

                <div class="card-header bg-gradient-primary text-white p-4 text-center position-relative overflow-hidden">
                    <div class="header-overlay"></div>
                    <div class="position-relative z-1">
                        <h4 class="mb-2 fw-bold"><i class="bi bi-pencil-square me-2"></i>ثبت دیدگاه ارزشمند شما</h4>
                    </div>
                </div>

                <div class="card-body p-4 p-md-5">

                    @if (TempData["Warning"] != null)
                    {
                        <div class="alert alert-danger alert-dismissible fade show shadow-sm mb-4" role="alert">
                            <i class="bi bi-exclamation-circle-fill me-2"></i> @TempData["Warning"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                    }

                    <form asp-action="CreateComment" asp-route-postId = "@Model.PostId" method="post" >

                        <input type="hidden" asp-for="PostId" />

                      
                        <div class="mb-4 form-floating-group">
                            <label asp-for="FullName" class="form-label fw-bold text-secondary small mb-1"></label>
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bg-light border-end-0 text-muted ps-3"><i class="bi bi-person"></i></span>
                                <input asp-for="FullName" class="form-label border-start-0 bg-light fs-6" placeholder="مثلاً: علی رضایی" />
                            </div>
                            <span asp-validation-for="FullName" class="text-danger small mt-1 d-block"></span>
                        </div>

                        
                        <div class="mb-4 form-floating-group">
                            <label asp-for="Email" class="form-label fw-bold text-secondary small mb-1"></label>
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bg-light border-end-0 text-muted ps-3"><i class="bi bi-envelope"></i></span>
                                <input asp-for="Email" class="form-label border-start-0 bg-light fs-6" placeholder="example@mail.com" dir="ltr" />
                            </div>
                            <span asp-validation-for="Email" class="text-danger small mt-1 d-block"></span>
                        </div>

                        
                        <div class="mb-4 text-center py-3 bg-light rounded-3 border border-light">
                            <label asp-for="Score" class="form-label fw-bold text-secondary mb-2 d-block">امتیاز شما به این مطلب</label>

                            <div class="star-rating d-inline-flex flex-row-reverse justify-content-center">
                                <input asp-for="Score" type="radio" id="star5" value="5" />
                                <label for="star5"><i class="bi bi-star-fill"></i></label>

                                <input asp-for="Score" type="radio" id="star4" value="4" />
                                <label for="star4"><i class="bi bi-star-fill"></i></label>

                                <input asp-for="Score" type="radio" id="star3" value="3" />
                                <label for="star3"><i class="bi bi-star-fill"></i></label>

                                <input asp-for="Score" type="radio" id="star2" value="2" />
                                <label for="star2"><i class="bi bi-star-fill"></i></label>

                                <input asp-for="Score" type="radio" id="star1" value="1" />
                                <label for="star1"><i class="bi bi-star-fill"></i></label>
                            </div>

                            <span asp-validation-for="Score" class="text-danger small d-block mt-2 fw-bold"></span>
                        </div>

                       
                        <div class="mb-4">
                            <label asp-for="Text" class="form-label fw-bold text-secondary small mb-1"></label>
                            <textarea asp-for="Text" class="form-label bg-light rounded-3 p-3 w-100"
                                      rows="5" placeholder="نظر خود را اینجا بنویسید..." style="resize: none; border: 1px solid #dee2e6;">
                            </textarea>
                            <span asp-validation-for="Text" class="text-danger small mt-1 d-block"></span>
                        </div>

                      
                        <div class="d-grid gap-3 pt-2">
                            <button type="submit" class="btn btn-primary btn-lg rounded-pill shadow-sm hover-lift py-3 fw-bold">
                                <i class="bi bi-send-fill me-2"></i> ثبت دیدگاه
                            </button>

                            <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary rounded-pill py-2 fw-bold border-2">
                                انصراف و بازگشت
                            </a>
                        </div>

                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
